var
<!doctype html public "-//w3c//dtd xhtml 1.0 strict//en" 
"http://www.w3.org/tr/xhtml1/dtd/xhtml1-strict.dtd">
<html>
<head>
   <meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5" />
   <meta name="DMViewName" content="LTE PDCP Config" />
   <meta name="DMViewWidth" content="800" />
   <meta name="DMViewHeight" content="600" />
   <title>LTE PDCP Config</title>
   <link rel="stylesheet" href="QXDMStyle.css" />
</head>
<body onunload="Unregister()" onload="Register()">
   <table border="0" width="100%" cellpadding="2">
      <tr>
         <td valign="top" class="noborder">
            <div class="label">
               PDCP DL Config</div>
            <table width="100%" id="DL">
               <tr>
                  <th>
                     Parameter</th>
                  <th>
                     SRB1</th>
                  <th>
                     SRB2</th>
                  <th>
                     SRB3</th>
                  <th>
                     SRB4</th>
                  <th>
                  </th>
                  <th>
                     DRB1</th>
                  <th>
                     DRB2</th>
                  <th>
                     DRB3</th>
                  <th>
                     DRB4</th>
               </tr>
               <tr>
                  <td>
                     Config Reason</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Released RB</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     ADDMOD RB</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     DRB Cipher Algorithm</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Key Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     SRB Cipher Algorithm</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Key Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     SRB Integrity Algorithm</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Key Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB Config Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB ID</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     EPS ID</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB MODE</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB TYPE</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     ACTION</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Seq Length</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Status Report</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     ROHC Mask</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
            </table>
            <br />
         </td>
      </tr>
   </table>
   <br />
   <table border="0" width="100%" cellpadding="2">
      <tr>
         <td valign="top" class="noborder">
            <div class="label">
               PDCP UL Config</div>
            <table width="100%" id="UL">
               <tr>
                  <th>
                     Parameter</th>
                  <th>
                     SRB1</th>
                  <th>
                     SRB2</th>
                  <th>
                     SRB3</th>
                  <th>
                     SRB4</th>
                  <th>
                  </th>
                  <th>
                     DRB1</th>
                  <th>
                     DRB2</th>
                  <th>
                     DRB3</th>
                  <th>
                     DRB4</th>
               </tr>
               <tr>
                  <td>
                     Config Reason</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Released RB</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     ADDMOD RB</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     DRB Cipher Algorithm</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Key Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     SRB Cipher Algorithm</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Key Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     SRB Integrity Algorithm</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Key Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB Config Index</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB ID</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     EPS ID</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB MODE</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     RB TYPE</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     ACTION</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Seq Length</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     Discard Timer</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
               <tr>
                  <td>
                     ROHC Mask</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                  </td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
                  <td>
                     -</td>
               </tr>
            </table>
            <br />
         </td>
      </tr>
   </table>
   <br />

   <script type="text/jscript">

var IQXDM2;
var Handle             = 0xFFFFFFFF;
var UPDATE_MS          = 1000;
var gMainTickID        = 0;
var PrevIndex          = -1;
var MAXRB              = 4;


function Register()
{
   IQXDM2 = window.external;
   if (IQXDM2 == null)
   {
      window.document.write( "<br />QXDM does not support required interface" );
      return;
   }

   // We start by registering as a client
   Handle = IQXDM2.RegisterClient( "", 0 );
   if (Handle == 0xFFFFFFFF)
   {
      window.document.write( "<br />Unable to register as client" );
   }   
   
   // Get a configuration object
   var clientObject = IQXDM2.ConfigureClientByKeys( Handle );

   if (clientObject == null)
   {
      window.document.write("<br />Failed to get client interface pointer");
      return;
   }

   // Configure logs.      
   clientObject.AddLog( 0xB0A0 );  
   clientObject.AddLog( 0xB0B0 );  
   
   clientObject.CommitConfig();     
   
   // Setup the main update timer
   gMainTickID = setInterval( 'ProcessLogs()', UPDATE_MS );
}

// Clean up on unloading the page
function Unregister()
{
   if (gMainTickID != 0)
   {
      window.clearInterval( gMainTickID );
      gMainTickID = 0;
   }

   if (Handle != 0xFFFFFFFF)
   {
      IQXDM2.UnregisterClient( Handle );
   }
}
 
function ProcessLogs()
{
   var LogCodeDL = "[0xB0A0]";
   var LogCodeUL = "[0xB0B0]";
   
   var CurrIndex = IQXDM2.GetClientItemCount( Handle ) - 1;
   if (PrevIndex > CurrIndex)
   {
      // Reset index if it is greater than item count
      PrevIndex = -1;
   }

   // Make sure there is an item
   if (CurrIndex < 0)
   {
      return;
   }  
   
   for (var i = PrevIndex+1; i <= CurrIndex; i++)
   {
      var Item = IQXDM2.GetClientItem( Handle, i );
      if (Item == null)
      {
         continue;
      }
      
      var Fields = Item.GetItemFields();
      if (Fields == null)
      {
         continue;
      }     
      
      var ItemKey = Item.GetItemKeyText();
      switch (ItemKey)
      {              
         case LogCodeDL:
         {
            PopulateFieldsDL ( Fields );       
         }
         break;
         
         case LogCodeUL:
         {
            PopulateFieldsUL ( Fields );       
         }
         break; 
      }
   }
   
   PrevIndex = CurrIndex;
}

function PopulateFieldsDL( Fields )
{     
   var FieldCount = Fields.GetFieldCount();
   if (FieldCount < 1)
   {
      return;
   }
            
   var version = Fields.GetFieldValueText( 0 );   
   if ( version != 1 )
   {
      return;
   }
     
   var FI = 1; 
   var numSP = Fields.GetFieldValueText( FI ); 
   if ( numSP < 1 )
   {
      return;
   }
   
   var subversion = Fields.GetFieldValueText( 4 );
   if ( subversion != 1 || FieldCount < 18 )
   {
      return;
   }  
   
   var CFG_REASON = Fields.GetFieldValueText( 6 );
   var DRB_CIPHER_ALGO = Fields.GetFieldValueText ( 11 );
   var KEY_IDX1 = Fields.GetFieldValueText ( 12 );
   var SRB_CIPHER_ALGO = Fields.GetFieldValueText ( 7 );
   var KEY_IDX2 = Fields.GetFieldValueText ( 8 );
   var SRB_INTEGRITY_ALGO = Fields.GetFieldValueText ( 9 );
   var KEY_IDX3 = Fields.GetFieldValueText ( 10 );
   
   var ArraySize = Fields.GetFieldValue ( 13 );
   var NUM_RELEASED_RB = Fields.GetFieldValue ( 14 );
   FI = 15 + ArraySize;
   var NUM_ADDED_MODIFIED_RB = Fields.GetFieldValue( FI );
   
   DL.rows[1].cells[1].innerText = CFG_REASON;
   DL.rows[2].cells[1].innerText = NUM_RELEASED_RB;
   DL.rows[3].cells[1].innerText = NUM_ADDED_MODIFIED_RB;
   DL.rows[4].cells[1].innerText =  DRB_CIPHER_ALGO;
   DL.rows[5].cells[1].innerText =  KEY_IDX3;
   DL.rows[6].cells[1].innerText =  SRB_CIPHER_ALGO;
   DL.rows[7].cells[1].innerText =  KEY_IDX1;
   DL.rows[8].cells[1].innerText =  SRB_INTEGRITY_ALGO;
   DL.rows[9].cells[1].innerText =  KEY_IDX2;
  

   var ACTION = "-";   
   FI = 17 + ArraySize;
   if ( NUM_ADDED_MODIFIED_RB > 0 )
   {   
      ACTION = Fields.GetFieldValueText( FI );
   }
   
   FI = 16 + 3*ArraySize;
   var numActive = Fields.GetFieldValue( FI );
   if ( numActive < 1 )
   {
      return;
   }   
   
   var SRB = new Array();
   var numSRB = 0;
   var DRB = new Array();
   var numDRB = 0;
   FI = 21 + 3*ArraySize;
   var i = 0;
   for ( i = 0; i < numActive; ++i, FI+= 9 )
   {
      var rbType = Fields.GetFieldValue( FI );
      
      if ( rbType == 1 )
      {
         SRB[numSRB++] = Fields.GetFieldValue ( FI - 4 );
      }
      else if ( rbType == 2 )
      {
         DRB[numDRB++] = Fields.GetFieldValue ( FI - 4 );
      }
   }
   SRB.sort();
   DRB.sort();  
   
   FI = 17 + 3*ArraySize;
   var i = 0, j = 0;
   for ( i = 0; i < numActive; ++i, FI+= 9 )
   {
      var RB_ID = Fields.GetFieldValue( FI );
      var RB_CFG_IDX = Fields.GetFieldValueText( FI+1 );
      var EPS_ID = Fields.GetFieldValueText( FI+2 );
      var RB_MODE = Fields.GetFieldValueText( FI+3 );
      var RB_TYPE = Fields.GetFieldValue( FI+4 );   
      var SEQ_LEN = Fields.GetFieldValueText( FI+5 );  
      var STATUS_REPORT = Fields.GetFieldValueText( FI+6 );  
      var ROHC_MASK = Fields.GetFieldValueText( FI+8 );
      
      if ( RB_TYPE == 1 )
      {
         for ( j = 0; j < numSRB; ++j )
         {
            if ( SRB[j] == RB_ID )
            {
               break;
            }
         }
      }
      else if ( RB_TYPE == 2 )
      {
         for ( j = 0; j < numDRB; ++j )
         {
            if ( DRB[j] == RB_ID )
            {
               break;
            }
         }    
      }
      if ( j > MAXRB )
      {
         continue;
      }
      if ( RB_TYPE == 1 )
      {
         j += 1;
      } 
      else if ( RB_TYPE == 2 )
      {
         j += 6;
      } 
           
      DL.rows[11].cells[j].innerText =  RB_ID;
      DL.rows[10].cells[j].innerText =  RB_CFG_IDX;
      DL.rows[12].cells[j].innerText =  EPS_ID;
      DL.rows[13].cells[j].innerText =  RB_MODE;
      DL.rows[14].cells[j].innerText =  RB_TYPE;
      DL.rows[15].cells[j].innerText =  ACTION;
      DL.rows[16].cells[j].innerText =  SEQ_LEN;
      DL.rows[17].cells[j].innerText =  STATUS_REPORT;
      DL.rows[18].cells[j].innerText =  ROHC_MASK;
   }                       
}

function PopulateFieldsUL( Fields )
{     
   var FieldCount = Fields.GetFieldCount();
   if (FieldCount < 1)
   {
      return;
   }
            
   var version = Fields.GetFieldValueText( 0 );   
   if ( version != 1 )
   {
      return;
   }
     
   var FI = 1; 
   var numSP = Fields.GetFieldValueText( FI ); 
   if ( numSP < 1 )
   {
      return;
   }
   
   var subversion = Fields.GetFieldValueText( 4 );
   if ( subversion != 1 || FieldCount < 18 )
   {
      return;
   }  
   
   var CFG_REASON = Fields.GetFieldValueText( 6 );
   var DRB_CIPHER_ALGO = Fields.GetFieldValueText ( 11 );
   var KEY_IDX1 = Fields.GetFieldValueText ( 12 );
   var SRB_CIPHER_ALGO = Fields.GetFieldValueText ( 7 );
   var KEY_IDX2 = Fields.GetFieldValueText ( 8 );
   var SRB_INTEGRITY_ALGO = Fields.GetFieldValueText ( 9 );
   var KEY_IDX3 = Fields.GetFieldValueText ( 10 );
   
   var ArraySize = Fields.GetFieldValue ( 13 );
   var NUM_RELEASED_RB = Fields.GetFieldValue ( 14 );
   FI = 15 + ArraySize;
   var NUM_ADDED_MODIFIED_RB = Fields.GetFieldValue( FI );
   
   UL.rows[1].cells[1].innerText = CFG_REASON;
   UL.rows[2].cells[1].innerText = NUM_RELEASED_RB;
   UL.rows[3].cells[1].innerText = NUM_ADDED_MODIFIED_RB;
   UL.rows[4].cells[1].innerText =  DRB_CIPHER_ALGO;
   UL.rows[5].cells[1].innerText =  KEY_IDX3;
   UL.rows[6].cells[1].innerText =  SRB_CIPHER_ALGO;
   UL.rows[7].cells[1].innerText =  KEY_IDX1;
   UL.rows[8].cells[1].innerText =  SRB_INTEGRITY_ALGO;
   UL.rows[9].cells[1].innerText =  KEY_IDX2;
  

   var ACTION = "-";   
   FI = 17 + ArraySize;
   if ( NUM_ADDED_MODIFIED_RB > 0 )
   {   
      ACTION = Fields.GetFieldValueText( FI );
   }
   
   FI = 16 + 3*ArraySize;
   var numActive = Fields.GetFieldValue( FI );
   if ( numActive < 1 )
   {
      return;
   }   
   
   var SRB = new Array();
   var numSRB = 0;
   var DRB = new Array();
   var numDRB = 0;
   FI = 21 + 3*ArraySize;
   var i = 0;
   for ( i = 0; i < numActive; ++i, FI+= 9 )
   {
      var rbType = Fields.GetFieldValue( FI );
      
      if ( rbType == 1 )
      {
         SRB[numSRB++] = Fields.GetFieldValue ( FI - 4 );
      }
      else if ( rbType == 2 )
      {
         DRB[numDRB++] = Fields.GetFieldValue ( FI - 4 );
      }
   }
   SRB.sort();
   DRB.sort();  
   
   FI = 17 + 3*ArraySize;
   var i = 0, j = 0;
   for ( i = 0; i < numActive; ++i, FI+= 9 )
   {
      var RB_ID = Fields.GetFieldValue( FI );
      var RB_CFG_IDX = Fields.GetFieldValueText( FI+1 );
      var EPS_ID = Fields.GetFieldValueText( FI+2 );
      var RB_MODE = Fields.GetFieldValueText( FI+3 );
      var RB_TYPE = Fields.GetFieldValue( FI+4 );   
      var SEQ_LEN = Fields.GetFieldValueText( FI+5 );  
      var DISCARD_TIMER = Fields.GetFieldValueText( FI+6 );  
      var ROHC_MASK = Fields.GetFieldValueText( FI+8 );
      
      if ( RB_TYPE == 1 )
      {
         for ( j = 0; j < numSRB; ++j )
         {
            if ( SRB[j] == RB_ID )
            {
               break;
            }
         }
      }
      else if ( RB_TYPE == 2 )
      {
         for ( j = 0; j < numDRB; ++j )
         {
            if ( DRB[j] == RB_ID )
            {
               break;
            }
         }    
      }
      if ( j > MAXRB )
      {
         continue;
      }
      if ( RB_TYPE == 1 )
      {
         j += 1;
      } 
      else if ( RB_TYPE == 2 )
      {
         j += 6;
      } 
           
      UL.rows[11].cells[j].innerText =  RB_ID;
      UL.rows[10].cells[j].innerText =  RB_CFG_IDX;
      UL.rows[12].cells[j].innerText =  EPS_ID;
      UL.rows[13].cells[j].innerText =  RB_MODE;
      UL.rows[14].cells[j].innerText =  RB_TYPE;
      UL.rows[15].cells[j].innerText =  ACTION;
      UL.rows[16].cells[j].innerText =  SEQ_LEN;
      UL.rows[17].cells[j].innerText =  DISCARD_TIMER;
      UL.rows[18].cells[j].innerText =  ROHC_MASK;
   }                       
}

   </script>

</body>
</html>
